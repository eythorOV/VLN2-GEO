
{% extends "base.html" %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">

<div class="left">
    <div class="about_us_info">
        <h2 class="our_story">Welcome to your profile</h2>

        <div class="description_container">
            <p class="paragraph_description">
                Hi {{user.first_name}} {{user.last_name}}, hope your having a good day!
                <br><br>
                You can change your profile picture by clicking on the choose file button below the image.
                You can also change your name by writing the new name in the text box below and clicking the change name button.
            </p>
            <div class="text_field" id="first_name">
                <input type="text" name="firstname" required>
                <span></span>
                <label>First name</label>
            </div>
            <div class="text_field" id="last_name">
                <input type="text" name="lastname" required>
                <span></span>
                <label>Last name</label>
            </div>
        </div>
    </div>
    <input type="submit" value="Confirm change">
</div>

<div class="container">
    <div class="avatar-upload">
        <div class="avatar-edit">
            <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />
            <label for="imageUpload"></label>
        </div>
        <div class="avatar-preview">
            <div id="imagePreview" style="background-image: url('http://i.pravatar.cc/500?img=7');">
            </div>
        </div>
    </div>
</div>

<script>
        function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function(e) {
            $('#imagePreview').css('background-image', 'url('+e.target.result +')');
            $('#imagePreview').hide();
            $('#imagePreview').fadeIn(650);
        }
        reader.readAsDataURL(input.files[0]);
    }
}
$("#imageUpload").change(function() {
    readURL(this);
});
    </script>
{% endblock %}